---
id: html-text-area
---

import React from 'react';
import { ComponentDocSection } from "@site/src/components/docs/ComponentDocSection";
import { StorybookLink } from "@site/src/components/docs/StorybookLink";
import { HtmlTextArea, Card, CardContent, CardHeader, CardTitle } from "buildgrid-ui";
import { FileText, Code, Eye, Shield } from 'lucide-react';

# HTML Text Area

<StorybookLink path="blocks-htmltextarea--default" />

The `HtmlTextArea` component provides a secure way to render HTML content with built-in sanitization using DOMPurify. It includes proper styling reset and multiple security presets to safely display rich text content, formatted messages, and HTML previews while protecting against XSS attacks.

## Basic Usage

<ComponentDocSection
  code={`import { HtmlTextArea } from "buildgrid-ui";

function BasicHtmlTextArea() {
  const htmlContent = \`
    <h2>Welcome to Our Platform</h2>
    <p>This is a <strong>bold</strong> statement with <em>emphasis</em>.</p>
    <ul>
      <li>Feature one</li>
      <li>Feature two</li>
      <li>Feature three</li>
    </ul>
  \`;

  return (
    <div className="border rounded-lg p-4">
      <HtmlTextArea>{htmlContent}</HtmlTextArea>
    </div>
  );
}`}
  storybookPath="blocks-htmltextarea--default"
>
  {(() => {
    const htmlContent = `
      <h2>Welcome to Our Platform</h2>
      <p>This is a <strong>bold</strong> statement with <em>emphasis</em>.</p>
      <ul>
        <li>Feature one</li>
        <li>Feature two</li>
        <li>Feature three</li>
      </ul>
    `;

    return (
      <div className="border rounded-lg p-4">
        <HtmlTextArea>{htmlContent}</HtmlTextArea>
      </div>
    );
  })()}
</ComponentDocSection>

## Security Presets

<ComponentDocSection
  code={`import { HtmlTextArea } from "buildgrid-ui";

function SecurityPresets() {
  const maliciousContent = \`
    <h3>Test Content</h3>
    <p>Safe content with <strong>formatting</strong></p>
    <script>alert('XSS attempt')</script>
    <img src="x" onerror="alert('XSS')" />
    <a href="javascript:alert('XSS')">Malicious link</a>
    <div onclick="alert('XSS')">Clickable div</div>
  \`;

  return (
    <div className="space-y-6">
      <Card>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Shield className="h-5 w-5 text-green-600" />
            Comments Preset (Most Restrictive)
          </CardTitle>
        </CardHeader>
        <CardContent>
          <HtmlTextArea preset="comments">{maliciousContent}</HtmlTextArea>
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Shield className="h-5 w-5 text-blue-600" />
            Basic Preset
          </CardTitle>
        </CardHeader>
        <CardContent>
          <HtmlTextArea preset="basic">{maliciousContent}</HtmlTextArea>
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Shield className="h-5 w-5 text-purple-600" />
            Rich Preset
          </CardTitle>
        </CardHeader>
        <CardContent>
          <HtmlTextArea preset="rich">{maliciousContent}</HtmlTextArea>
        </CardContent>
      </Card>

      <Card>
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Shield className="h-5 w-5 text-orange-600" />
            Full Preset (Default)
          </CardTitle>
        </CardHeader>
        <CardContent>
          <HtmlTextArea preset="full">{maliciousContent}</HtmlTextArea>
        </CardContent>
      </Card>
    </div>
  );
}`}
>
  {(() => {
    const maliciousContent = `
      <h3>Test Content</h3>
      <p>Safe content with <strong>formatting</strong></p>
      <script>alert('XSS attempt')</script>
      <img src="x" onerror="alert('XSS')" />
      <a href="javascript:alert('XSS')">Malicious link</a>
      <div onclick="alert('XSS')">Clickable div</div>
    `;

    return (
      <div className="space-y-6">
        <Card>
          <CardHeader>
            <CardTitle className="flex items-center gap-2">
              <Shield className="h-5 w-5 text-green-600" />
              Comments Preset (Most Restrictive)
            </CardTitle>
          </CardHeader>
          <CardContent>
            <HtmlTextArea preset="comments">{maliciousContent}</HtmlTextArea>
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle className="flex items-center gap-2">
              <Shield className="h-5 w-5 text-blue-600" />
              Basic Preset
            </CardTitle>
          </CardHeader>
          <CardContent>
            <HtmlTextArea preset="basic">{maliciousContent}</HtmlTextArea>
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle className="flex items-center gap-2">
              <Shield className="h-5 w-5 text-purple-600" />
              Rich Preset
            </CardTitle>
          </CardHeader>
          <CardContent>
            <HtmlTextArea preset="rich">{maliciousContent}</HtmlTextArea>
          </CardContent>
        </Card>

        <Card>
          <CardHeader>
            <CardTitle className="flex items-center gap-2">
              <Shield className="h-5 w-5 text-orange-600" />
              Full Preset (Default)
            </CardTitle>
          </CardHeader>
          <CardContent>
            <HtmlTextArea preset="full">{maliciousContent}</HtmlTextArea>
          </CardContent>
        </Card>
      </div>
    );
  })()}
</ComponentDocSection>

## Rich Text Content

<ComponentDocSection
  code={`import { HtmlTextArea } from "buildgrid-ui";

function RichTextContent() {
  const richContent = \`
    <h1>Article Title</h1>
    <p class="lead">This is a lead paragraph that introduces the main topic.</p>
    
    <h2>Section Heading</h2>
    <p>Regular paragraph with <a href="#" onclick="return false;">links</a>, 
    <strong>bold text</strong>, <em>italic text</em>, and 
    <code>inline code</code>.</p>
    
    <blockquote>
      <p>"This is an inspiring quote that adds value to the content."</p>
      <footer>‚Äî Author Name</footer>
    </blockquote>
    
    <h3>Lists and More</h3>
    <ol>
      <li>First ordered item</li>
      <li>Second ordered item with <strong>emphasis</strong></li>
      <li>Third item</li>
    </ol>
    
    <p>Final paragraph with a <mark>highlighted</mark> section.</p>
  \`;

  return (
    <Card className="w-full max-w-2xl">
      <CardHeader>
        <CardTitle className="flex items-center gap-2">
          <FileText className="h-5 w-5" />
          Rich Text Article
        </CardTitle>
      </CardHeader>
      <CardContent>
        <HtmlTextArea>{richContent}</HtmlTextArea>
      </CardContent>
    </Card>
  );
}`}
>
  {(() => {
    const richContent = `
      <h1>Article Title</h1>
      <p class="lead">This is a lead paragraph that introduces the main topic.</p>
      
      <h2>Section Heading</h2>
      <p>Regular paragraph with <a href="#" onclick="return false;">links</a>, 
      <strong>bold text</strong>, <em>italic text</em>, and 
      <code>inline code</code>.</p>
      
      <blockquote>
        <p>"This is an inspiring quote that adds value to the content."</p>
        <footer>‚Äî Author Name</footer>
      </blockquote>
      
      <h3>Lists and More</h3>
      <ol>
        <li>First ordered item</li>
        <li>Second ordered item with <strong>emphasis</strong></li>
        <li>Third item</li>
      </ol>
      
      <p>Final paragraph with a <mark>highlighted</mark> section.</p>
    `;

    return (
      <Card className="w-full max-w-2xl">
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <FileText className="h-5 w-5" />
            Rich Text Article
          </CardTitle>
        </CardHeader>
        <CardContent>
          <HtmlTextArea>{richContent}</HtmlTextArea>
        </CardContent>
      </Card>
    );
  })()}
</ComponentDocSection>

## Email Template Preview

<ComponentDocSection
  code={`import { HtmlTextArea } from "buildgrid-ui";

function EmailTemplatePreview() {
  const emailTemplate = \`
    <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
      <header style="background: #f8f9fa; padding: 20px; text-align: center;">
        <h1 style="color: #333; margin: 0;">Welcome to Our Service!</h1>
      </header>
      
      <main style="padding: 20px;">
        <p>Dear <strong>John Doe</strong>,</p>
        
        <p>Thank you for joining our platform. We're excited to have you on board!</p>
        
        <div style="background: #e3f2fd; padding: 15px; border-radius: 5px; margin: 20px 0;">
          <h3 style="margin-top: 0; color: #1976d2;">Getting Started</h3>
          <ul style="margin-bottom: 0;">
            <li>Complete your profile</li>
            <li>Explore our features</li>
            <li>Connect with other users</li>
          </ul>
        </div>
        
        <p>If you have any questions, feel free to reach out to our support team.</p>
        
        <p>Best regards,<br>
        <strong>The Team</strong></p>
      </main>
      
      <footer style="background: #f8f9fa; padding: 15px; text-align: center; font-size: 12px; color: #666;">
        <p>¬© 2024 Our Company. All rights reserved.</p>
      </footer>
    </div>
  \`;

  return (
    <Card className="w-full max-w-3xl">
      <CardHeader>
        <CardTitle className="flex items-center gap-2">
          <Eye className="h-5 w-5" />
          Email Template Preview
        </CardTitle>
      </CardHeader>
      <CardContent>
        <div className="border rounded-lg p-4 bg-gray-50">
          <HtmlTextArea>{emailTemplate}</HtmlTextArea>
        </div>
      </CardContent>
    </Card>
  );
}`}
>
  {(() => {
    const emailTemplate = `
      <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
        <header style="background: #f8f9fa; padding: 20px; text-align: center;">
          <h1 style="color: #333; margin: 0;">Welcome to Our Service!</h1>
        </header>
        
        <main style="padding: 20px;">
          <p>Dear <strong>John Doe</strong>,</p>
          
          <p>Thank you for joining our platform. We're excited to have you on board!</p>
          
          <div style="background: #e3f2fd; padding: 15px; border-radius: 5px; margin: 20px 0;">
            <h3 style="margin-top: 0; color: #1976d2;">Getting Started</h3>
            <ul style="margin-bottom: 0;">
              <li>Complete your profile</li>
              <li>Explore our features</li>
              <li>Connect with other users</li>
            </ul>
          </div>
          
          <p>If you have any questions, feel free to reach out to our support team.</p>
          
          <p>Best regards,<br>
          <strong>The Team</strong></p>
        </main>
        
        <footer style="background: #f8f9fa; padding: 15px; text-align: center; font-size: 12px; color: #666;">
          <p>¬© 2024 Our Company. All rights reserved.</p>
        </footer>
      </div>
    `;

    return (
      <Card className="w-full max-w-3xl">
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Eye className="h-5 w-5" />
            Email Template Preview
          </CardTitle>
        </CardHeader>
        <CardContent>
          <div className="border rounded-lg p-4 bg-gray-50">
            <HtmlTextArea>{emailTemplate}</HtmlTextArea>
          </div>
        </CardContent>
      </Card>
    );
  })()}
</ComponentDocSection>

## Code Documentation

<ComponentDocSection
  code={`import { HtmlTextArea } from "buildgrid-ui";

function CodeDocumentation() {
  const codeDoc = \`
    <h2>API Documentation</h2>
    
    <h3>Function: <code>calculateTotal</code></h3>
    <p><strong>Description:</strong> Calculates the total price including tax.</p>
    
    <h4>Parameters:</h4>
    <ul>
      <li><code>price</code> (number) - The base price</li>
      <li><code>taxRate</code> (number) - Tax rate as decimal (e.g., 0.08 for 8%)</li>
    </ul>
    
    <h4>Returns:</h4>
    <p><code>number</code> - The total price including tax</p>
    
    <h4>Example:</h4>
    <pre><code>const total = calculateTotal(100, 0.08);
// Returns: 108</code></pre>
    
    <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; border-radius: 4px;">
      <strong>Note:</strong> This function rounds to 2 decimal places for currency display.
    </div>
  \`;

  return (
    <Card className="w-full max-w-2xl">
      <CardHeader>
        <CardTitle className="flex items-center gap-2">
          <Code className="h-5 w-5" />
          Code Documentation
        </CardTitle>
      </CardHeader>
      <CardContent>
        <HtmlTextArea>{codeDoc}</HtmlTextArea>
      </CardContent>
    </Card>
  );
}`}
>
  {(() => {
    const codeDoc = `
      <h2>API Documentation</h2>
      
      <h3>Function: <code>calculateTotal</code></h3>
      <p><strong>Description:</strong> Calculates the total price including tax.</p>
      
      <h4>Parameters:</h4>
      <ul>
        <li><code>price</code> (number) - The base price</li>
        <li><code>taxRate</code> (number) - Tax rate as decimal (e.g., 0.08 for 8%)</li>
      </ul>
      
      <h4>Returns:</h4>
      <p><code>number</code> - The total price including tax</p>
      
      <h4>Example:</h4>
      <pre><code>const total = calculateTotal(100, 0.08);
// Returns: 108</code></pre>
      
      <div style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 10px; border-radius: 4px;">
        <strong>Note:</strong> This function rounds to 2 decimal places for currency display.
      </div>
    `;

    return (
      <Card className="w-full max-w-2xl">
        <CardHeader>
          <CardTitle className="flex items-center gap-2">
            <Code className="h-5 w-5" />
            Code Documentation
          </CardTitle>
        </CardHeader>
        <CardContent>
          <HtmlTextArea>{codeDoc}</HtmlTextArea>
        </CardContent>
      </Card>
    );
  })()}
</ComponentDocSection>

## Dynamic Content

<ComponentDocSection
  code={`import { HtmlTextArea } from "buildgrid-ui";
import React from "react";

function DynamicContent() {
  const [contentType, setContentType] = React.useState('article');
  
  const contents = {
    article: \`
      <article>
        <h1>Breaking News</h1>
        <p class="byline">By <strong>Jane Reporter</strong> | March 15, 2024</p>
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
        Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
        <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco 
        laboris nisi ut aliquip ex ea commodo consequat.</p>
      </article>
    \`,
    recipe: \`
      <div class="recipe">
        <h2>üçù Spaghetti Carbonara</h2>
        <p><em>Prep time: 15 minutes | Serves: 4</em></p>
        
        <h3>Ingredients:</h3>
        <ul>
          <li>400g spaghetti</li>
          <li>200g pancetta or guanciale</li>
          <li>4 large eggs</li>
          <li>100g Pecorino Romano cheese</li>
          <li>Black pepper to taste</li>
        </ul>
        
        <h3>Instructions:</h3>
        <ol>
          <li>Cook pasta according to package directions</li>
          <li>Fry pancetta until crispy</li>
          <li>Mix eggs and cheese in a bowl</li>
          <li>Combine everything while pasta is hot</li>
        </ol>
      </div>
    \`,
    notification: \`
      <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 15px; border-radius: 5px;">
        <h4 style="color: #155724; margin-top: 0;">‚úÖ Success!</h4>
        <p style="color: #155724; margin-bottom: 0;">
          Your account has been successfully updated. 
          All changes will take effect immediately.
        </p>
      </div>
    \`
  };

  return (
    <div className="space-y-4">
      <div className="flex gap-2">
        <button
          onClick={() => setContentType('article')}
          className={\`px-3 py-1 rounded text-sm \${
            contentType === 'article' 
              ? 'bg-blue-500 text-white' 
              : 'bg-gray-200 text-gray-700'
          }\`}
        >
          Article
        </button>
        <button
          onClick={() => setContentType('recipe')}
          className={\`px-3 py-1 rounded text-sm \${
            contentType === 'recipe' 
              ? 'bg-blue-500 text-white' 
              : 'bg-gray-200 text-gray-700'
          }\`}
        >
          Recipe
        </button>
        <button
          onClick={() => setContentType('notification')}
          className={\`px-3 py-1 rounded text-sm \${
            contentType === 'notification' 
              ? 'bg-blue-500 text-white' 
              : 'bg-gray-200 text-gray-700'
          }\`}
        >
          Notification
        </button>
      </div>
      
      <div className="border rounded-lg p-4">
        <HtmlTextArea>{contents[contentType]}</HtmlTextArea>
      </div>
    </div>
  );
}`}
>
  {(() => {
    const [contentType, setContentType] = React.useState('article');
    
    const contents = {
      article: `
        <article>
          <h1>Breaking News</h1>
          <p class="byline">By <strong>Jane Reporter</strong> | March 15, 2024</p>
          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. 
          Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
          <p>Ut enim ad minim veniam, quis nostrud exercitation ullamco 
          laboris nisi ut aliquip ex ea commodo consequat.</p>
        </article>
      `,
      recipe: `
        <div class="recipe">
          <h2>üçù Spaghetti Carbonara</h2>
          <p><em>Prep time: 15 minutes | Serves: 4</em></p>
          
          <h3>Ingredients:</h3>
          <ul>
            <li>400g spaghetti</li>
            <li>200g pancetta or guanciale</li>
            <li>4 large eggs</li>
            <li>100g Pecorino Romano cheese</li>
            <li>Black pepper to taste</li>
          </ul>
          
          <h3>Instructions:</h3>
          <ol>
            <li>Cook pasta according to package directions</li>
            <li>Fry pancetta until crispy</li>
            <li>Mix eggs and cheese in a bowl</li>
            <li>Combine everything while pasta is hot</li>
          </ol>
        </div>
      `,
      notification: `
        <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 15px; border-radius: 5px;">
          <h4 style="color: #155724; margin-top: 0;">‚úÖ Success!</h4>
          <p style="color: #155724; margin-bottom: 0;">
            Your account has been successfully updated. 
            All changes will take effect immediately.
          </p>
        </div>
      `
    };

    return (
      <div className="space-y-4">
        <div className="flex gap-2">
          <button
            onClick={() => setContentType('article')}
            className={`px-3 py-1 rounded text-sm ${
              contentType === 'article' 
                ? 'bg-blue-500 text-white' 
                : 'bg-gray-200 text-gray-700'
            }`}
          >
            Article
          </button>
          <button
            onClick={() => setContentType('recipe')}
            className={`px-3 py-1 rounded text-sm ${
              contentType === 'recipe' 
                ? 'bg-blue-500 text-white' 
                : 'bg-gray-200 text-gray-700'
            }`}
          >
            Recipe
          </button>
          <button
            onClick={() => setContentType('notification')}
            className={`px-3 py-1 rounded text-sm ${
              contentType === 'notification' 
                ? 'bg-blue-500 text-white' 
                : 'bg-gray-200 text-gray-700'
            }`}
          >
            Notification
          </button>
        </div>
        
        <div className="border rounded-lg p-4">
          <HtmlTextArea>{contents[contentType]}</HtmlTextArea>
        </div>
      </div>
    );
  })()}
</ComponentDocSection>

## Properties

### `HtmlTextArea`

| Property | Type | Description |
|---|---|---|
| `children` | `string` | The HTML content to render as a string. |
| `preset` | `'basic' \| 'rich' \| 'full' \| 'comments'` | Predefined sanitization preset. Default: `'full'` |
| `sanitizeOptions` | `DOMPurify.Config` | Custom DOMPurify configuration options (overrides preset). |
| `allowAll` | `boolean` | Whether to allow all HTML tags and attributes (less secure). Default: `false` |
| `className` | `string` | Additional CSS classes for the container. |

### Security Presets

| Preset | Description | Allowed Tags | Use Case |
|---|---|---|---|
| `comments` | Most restrictive | `p`, `br`, `strong`, `em`, `a` | User comments, reviews |
| `basic` | Basic formatting | `p`, `br`, `strong`, `em`, `u`, `i`, `b` | Simple rich text |
| `rich` | Rich text with headings | Basic + headings, lists, blockquotes | Articles, blog posts |
| `full` | Full content support | Rich + links, code, tables, media | Documentation, emails |

## Built-in Security Features

The HtmlTextArea component includes comprehensive security measures:

### DOMPurify Integration
- **Automatic Sanitization** - All HTML content is sanitized using DOMPurify
- **XSS Prevention** - Removes malicious scripts, event handlers, and dangerous attributes
- **Configurable Security** - Multiple presets for different security levels
- **Custom Configuration** - Override default settings with custom DOMPurify options

### Security Measures
- **Script Removal** - All `<script>` tags are automatically removed
- **Event Handler Blocking** - Attributes like `onclick`, `onerror`, `onload` are stripped
- **JavaScript URL Prevention** - `javascript:` URLs in links are blocked
- **Dangerous Tag Filtering** - Tags like `<object>`, `<embed>`, `<form>` are removed
- **Attribute Sanitization** - Only safe attributes are allowed based on preset

## CSS Reset

The HtmlTextArea component includes a CSS reset class (`unreset`) that:

- **Restores Default Styles** - Brings back browser default styling for HTML elements
- **Typography** - Ensures proper font sizes, weights, and spacing for headings and text
- **Lists** - Restores bullet points and numbering for ul/ol elements
- **Links** - Maintains proper link styling and hover states
- **Code Elements** - Provides appropriate styling for code and pre elements
- **Spacing** - Ensures proper margins and padding for content elements

## Security Best Practices

‚úÖ **Recommended Practices**:

1. **Use Appropriate Presets** - Choose the most restrictive preset that meets your needs
2. **Validate Input Sources** - Ensure HTML content comes from trusted sources
3. **Regular Updates** - Keep DOMPurify updated for latest security patches
4. **Content Auditing** - Regularly audit and review HTML content sources
5. **Testing** - Test with various content types including potential XSS attempts

‚ö†Ô∏è **Security Considerations**:

- **User-Generated Content** - Use `comments` preset for user-generated content
- **External Sources** - Be cautious with HTML from external APIs or third parties
- **Custom Configuration** - Carefully review custom sanitizeOptions to avoid security gaps
- **AllowAll Flag** - Never use `allowAll={true}` with untrusted content

## Common Use Cases

The HtmlTextArea component is perfect for:

- **Rich Text Display** - Showing formatted content from WYSIWYG editors
- **Email Templates** - Previewing HTML email content
- **Documentation** - Rendering HTML documentation and help content
- **Content Management** - Displaying CMS-generated HTML content
- **Notifications** - Showing formatted system messages
- **Blog Posts** - Rendering HTML blog content
- **Code Documentation** - Displaying formatted API documentation
- **Marketing Content** - Showing promotional HTML content

## Best Practices

1. **Content Sanitization** - Always sanitize HTML content before rendering
2. **Trusted Sources** - Only use content from verified, trusted sources
3. **CSS Scoping** - Be aware that the unreset class affects all child elements
4. **Performance** - Avoid frequent re-renders with large HTML content
5. **Accessibility** - Ensure rendered HTML maintains proper semantic structure
6. **Testing** - Test with various HTML content types and structures
7. **Error Handling** - Handle malformed HTML gracefully
8. **Security Audits** - Regularly audit HTML content sources for security