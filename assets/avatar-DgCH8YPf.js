import{j as d}from"./jsx-runtime-D_zvdyIk.js";import{r as s}from"./index-BCtMShv3.js";import{c as j}from"./index-BHZqYKkX.js";import{u as C}from"./index-bNP9aXDC.js";import{u as p}from"./index-CBEt3pxY.js";import{P as m}from"./index-CRFs4ic9.js";import{c as u}from"./cn-CytzSlOG.js";var f="Avatar",[b,G]=j(f),[E,v]=b(f),A=s.forwardRef((a,e)=>{const{__scopeAvatar:t,...r}=a,[n,o]=s.useState("idle");return d.jsx(E,{scope:t,imageLoadingStatus:n,onImageLoadingStatusChange:o,children:d.jsx(m.span,{...r,ref:e})})});A.displayName=f;var x="AvatarImage",w=s.forwardRef((a,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:n=()=>{},...o}=a,l=v(x,t),i=k(r,o.referrerPolicy),c=C(g=>{n(g),l.onImageLoadingStatusChange(g)});return p(()=>{i!=="idle"&&c(i)},[i,c]),i==="loaded"?d.jsx(m.img,{...o,ref:e,src:r}):null});w.displayName=x;var S="AvatarFallback",N=s.forwardRef((a,e)=>{const{__scopeAvatar:t,delayMs:r,...n}=a,o=v(S,t),[l,i]=s.useState(r===void 0);return s.useEffect(()=>{if(r!==void 0){const c=window.setTimeout(()=>i(!0),r);return()=>window.clearTimeout(c)}},[r]),l&&o.imageLoadingStatus!=="loaded"?d.jsx(m.span,{...n,ref:e}):null});N.displayName=S;function k(a,e){const[t,r]=s.useState("idle");return p(()=>{if(!a){r("error");return}let n=!0;const o=new window.Image,l=i=>()=>{n&&r(i)};return r("loading"),o.onload=l("loaded"),o.onerror=l("error"),o.src=a,e&&(o.referrerPolicy=e),()=>{n=!1}},[a,e]),t}var _=A,h=w,I=N;const L=s.forwardRef(({className:a,...e},t)=>d.jsx(_,{ref:t,className:u("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",a),...e}));L.displayName=_.displayName;const y=s.forwardRef(({className:a,...e},t)=>d.jsx(h,{ref:t,className:u("aspect-square h-full w-full",a),...e}));y.displayName=h.displayName;const R=s.forwardRef(({className:a,...e},t)=>d.jsx(I,{ref:t,className:u("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...e}));R.displayName=I.displayName;L.__docgenInfo={description:"",methods:[]};R.__docgenInfo={description:"",methods:[]};y.__docgenInfo={description:"",methods:[]};export{L as A,y as a,R as b};
