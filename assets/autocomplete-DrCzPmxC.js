import{j as a}from"./jsx-runtime-D_zvdyIk.js";import{r as p}from"./index-BCtMShv3.js";import{c as I}from"./cn-CytzSlOG.js";import{A as N}from"./adaptive-input-Bo_KwTvF.js";import{P as A,a as T,b as C}from"./popover-B4pCUulP.js";import{c as D}from"./createLucideIcon-DluVjxd-.js";/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=D("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);function E(f){const{value:g="",onChange:t,options:l,className:y,placeholder:h="Search...",emptyMessage:x="Nothing found",defaultOption:u}=f,[v,d]=p.useState((u==null?void 0:u.label)||g),[o,n]=p.useState(l),[c,r]=p.useState(-1),[w,i]=p.useState(!1),b=s=>{const e=s.target.value;d(e),t==null||t(e),r(-1),i(!0),e.trim()===""?n(l):n(l.filter(q=>q.label.toLowerCase().includes(e.toLowerCase())))},j=s=>{if(s.key==="ArrowDown")s.preventDefault(),r(e=>e<o.length-1?e+1:e);else if(s.key==="ArrowUp")s.preventDefault(),r(e=>e>0?e-1:-1);else if(s.key==="Enter"&&c>=0){const e=o[c];d(e.label),t==null||t(e.value),n([]),r(-1),i(!1)}else s.key==="Escape"&&(n([]),r(-1))},S=s=>{i(!1),d(s.label),t==null||t(s.value),n(l),r(-1)},m=()=>{i(!0)},k=()=>{i(!1)};return a.jsxs(A,{open:w,children:[a.jsx(T,{asChild:!0,children:a.jsx(N,{type:"text",placeholder:h,value:v,onChange:b,onKeyDown:j,onClick:m,onFocus:m,onBlur:k,className:I("pr-10",y),"aria-label":"Search field","aria-autocomplete":"list","aria-controls":"suggestions-list","aria-expanded":o.length>0,tabIndex:0,leftIcon:a.jsx(O,{className:"w-4 h-4"})})}),a.jsx(C,{className:"p-0 w-[var(--radix-popover-trigger-width)] max-h-96 overflow-y-auto",children:o.length>0?a.jsx("ul",{id:"suggestions-list",role:"listbox",children:o.map((s,e)=>a.jsx("li",{className:`px-4 py-2 cursor-pointer hover:bg-muted ${e===c?"bg-muted":""}`,onClick:()=>S(s),role:"option","aria-selected":e===c,children:s.label},s.value))}):a.jsx("span",{className:"px-4 py-2 block",children:x})})]})}E.__docgenInfo={description:"",methods:[],displayName:"Autocomplete",props:{value:{required:!1,tsType:{name:"string"},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},options:{required:!0,tsType:{name:"Array",elements:[{name:"Option"}],raw:"Option[]"},description:""},className:{required:!1,tsType:{name:"string"},description:""},placeholder:{required:!1,tsType:{name:"string"},description:""},emptyMessage:{required:!1,tsType:{name:"string"},description:""},defaultOption:{required:!1,tsType:{name:"Option"},description:""}}};export{E as A};
